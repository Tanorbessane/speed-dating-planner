story: 3.4-documentation-cli
description: Documentation complÃ¨te CLI et formats export dans README

checks:
  - name: README CLI Section
    command: grep -q "Via CLI (Interface Ligne de Commande)" README.md && echo "âœ“ Section CLI prÃ©sente"
    expected: "âœ“ Section CLI prÃ©sente"

  - name: CLI Examples Present
    command: grep -q "python -m src.cli" README.md && echo "âœ“ Exemples CLI documentÃ©s"
    expected: "âœ“ Exemples CLI documentÃ©s"

  - name: Required Arguments Documented
    command: |
      grep -q "\-n.*participants" README.md && \
      grep -q "\-t.*tables" README.md && \
      grep -q "\-c.*capacity" README.md && \
      grep -q "\-s.*sessions" README.md && \
      echo "âœ“ Arguments requis documentÃ©s"
    expected: "âœ“ Arguments requis documentÃ©s"

  - name: Optional Arguments Documented
    command: |
      grep -q "\-o.*output" README.md && \
      grep -q "\-f.*format" README.md && \
      grep -q "\-\-seed" README.md && \
      grep -q "\-v.*verbose" README.md && \
      echo "âœ“ Arguments optionnels documentÃ©s"
    expected: "âœ“ Arguments optionnels documentÃ©s"

  - name: Exit Codes Documented
    command: |
      grep -q "Exit codes:" README.md && \
      grep -q "\`0\`.*SuccÃ¨s" README.md && \
      grep -q "\`1\`.*Configuration invalide" README.md && \
      grep -q "\`2\`.*Erreur I/O" README.md && \
      grep -q "\`3\`.*Erreur inattendue" README.md && \
      echo "âœ“ Exit codes documentÃ©s"
    expected: "âœ“ Exit codes documentÃ©s"

  - name: Export Formats Section
    command: grep -q "## ðŸ“¤ Formats d'Export" README.md && echo "âœ“ Section formats export"
    expected: "âœ“ Section formats export"

  - name: CSV Format Documented
    command: |
      grep -q "Format CSV (FR10)" README.md && \
      grep -q "session_id.*table_id.*participant_id" README.md && \
      grep -q "UTF-8 BOM" README.md && \
      echo "âœ“ Format CSV documentÃ©"
    expected: "âœ“ Format CSV documentÃ©"

  - name: JSON Format Documented
    command: |
      grep -q "Format JSON (FR11)" README.md && \
      grep -q '"sessions"' README.md && \
      grep -q '"metadata"' README.md && \
      echo "âœ“ Format JSON documentÃ©"
    expected: "âœ“ Format JSON documentÃ©"

  - name: CLI Help Command
    command: grep -q "python -m src.cli --help" README.md && echo "âœ“ Commande help documentÃ©e"
    expected: "âœ“ Commande help documentÃ©e"

  - name: Epic 3 Marked Complete
    command: |
      grep -q "âœ… Epic 3 : Interface Utilisateur (ImplÃ©mentÃ©)" README.md && \
      grep -q "\[x\] Export CSV/JSON" README.md && \
      grep -q "\[x\] Interface CLI" README.md && \
      echo "âœ“ Epic 3 marquÃ© implÃ©mentÃ©"
    expected: "âœ“ Epic 3 marquÃ© implÃ©mentÃ©"

  - name: CLI Feature Updated
    command: grep -q "CLI Intuitive.*complÃ¨te" README.md && echo "âœ“ Feature CLI mise Ã  jour"
    expected: "âœ“ Feature CLI mise Ã  jour"

  - name: CSV Example Structure
    command: |
      grep -A20 "Format CSV" README.md | grep -q "session_id,table_id,participant_id" && \
      echo "âœ“ Exemple structure CSV"
    expected: "âœ“ Exemple structure CSV"

  - name: JSON Example Structure
    command: |
      grep -A15 "Format JSON" README.md | grep -q '"table_id"' && \
      echo "âœ“ Exemple structure JSON"
    expected: "âœ“ Exemple structure JSON"
